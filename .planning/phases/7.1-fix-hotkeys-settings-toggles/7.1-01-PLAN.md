---
phase: 7.1-fix-hotkeys-settings-toggles
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/renderer/ui/panels/ShortcutsManager.js
autonomous: true
requirements: []
must_haves:
  truths:
    - "Terminal shortcut toggles render as styled pill switches (44x24px) identical to other settings toggles"
    - "Raw HTML checkboxes are hidden — only the styled toggle slider is visible"
    - "Checked state shows accent color background with white circle on right side"
  artifacts:
    - path: "src/renderer/ui/panels/ShortcutsManager.js"
      provides: "Terminal shortcut toggle HTML with correct CSS class"
      contains: "toggle-option"
  key_links:
    - from: "src/renderer/ui/panels/ShortcutsManager.js"
      to: "styles/settings.css"
      via: "CSS class name toggle-option"
      pattern: "class=\"toggle-option\""
---

<objective>
Fix the terminal shortcut toggle switches in the Settings/Shortcuts panel so they render as styled pill toggles instead of raw HTML checkboxes.

Purpose: Phase 7 introduced terminal shortcut toggles using the class `terminal-shortcut-toggle`, but the existing toggle CSS in settings.css targets `.toggle-option`. The class mismatch causes the checkbox to render unstyled.

Output: Terminal shortcut toggles visually match all other settings toggles.
</objective>

<execution_context>
@C:/Users/uhgde/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/uhgde/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@src/renderer/ui/panels/ShortcutsManager.js (line 277 — label class)
@styles/settings.css (lines 62-110 — .toggle-option styles)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Change toggle label class from terminal-shortcut-toggle to toggle-option</name>
  <files>src/renderer/ui/panels/ShortcutsManager.js</files>
  <action>
In ShortcutsManager.js, make these two changes:

1. **Line 277** — Change the label class in the `renderTerminalShortcutRow` function:
   - Old: `class="terminal-shortcut-toggle"`
   - New: `class="toggle-option"`

2. **Line 429** — Update the closest() selector in the click handler to match:
   - Old: `e.target.closest('.terminal-shortcut-toggle')`
   - New: `e.target.closest('.toggle-option')`

Do NOT rename `.terminal-shortcut-checkbox` — it is only used in JS event handlers (querySelector), not CSS styling, so it works fine as-is. Per user's discretion note in CONTEXT.md.
  </action>
  <verify>
    <automated>cd C:/Users/uhgde/source/repos/claude-terminal && grep -c "terminal-shortcut-toggle" src/renderer/ui/panels/ShortcutsManager.js | grep "^0$" && grep -c "toggle-option" src/renderer/ui/panels/ShortcutsManager.js | grep -v "^0$" && echo "PASS"</automated>
    <manual>Open Settings > Shortcuts panel — terminal shortcut toggles should appear as styled pill switches matching other toggles</manual>
  </verify>
  <done>
    - No occurrences of "terminal-shortcut-toggle" remain in ShortcutsManager.js
    - The label uses class "toggle-option" which matches the existing CSS in settings.css
    - The click handler selector matches the new class name
  </done>
</task>

<task type="auto">
  <name>Task 2: Build renderer bundle and run tests</name>
  <files>dist/renderer.bundle.js</files>
  <action>
Run `npm run build:renderer` to rebuild the renderer bundle with the class name fix.
Then run `npm test` to verify no regressions.
  </action>
  <verify>
    <automated>cd C:/Users/uhgde/source/repos/claude-terminal && npm run build:renderer && npm test</automated>
  </verify>
  <done>
    - Renderer bundle builds without errors
    - All existing tests pass
  </done>
</task>

</tasks>

<verification>
1. `grep -c "terminal-shortcut-toggle" src/renderer/ui/panels/ShortcutsManager.js` returns 0
2. `grep -c "toggle-option" src/renderer/ui/panels/ShortcutsManager.js` returns at least 2
3. `npm run build:renderer` succeeds
4. `npm test` passes
</verification>

<success_criteria>
Terminal shortcut toggles in the Settings/Shortcuts panel render as styled pill switches identical to all other settings toggles, using the existing `.toggle-option` CSS class from settings.css.
</success_criteria>

<output>
After completion, create `.planning/phases/7.1-fix-hotkeys-settings-toggles/7.1-01-SUMMARY.md`
</output>
