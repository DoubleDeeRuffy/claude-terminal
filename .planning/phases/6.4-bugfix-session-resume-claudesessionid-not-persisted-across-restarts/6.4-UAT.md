---
status: complete
phase: 6.4-bugfix-session-resume-claudesessionid-not-persisted-across-restarts
source: 6.4-01-SUMMARY.md
started: 2026-02-27T12:00:00Z
updated: 2026-02-27T12:00:00Z
---

## Current Test

[testing complete]

## Tests

### 1. Session Resume Persists Across Restart
expected: Start a Claude chat session in a project terminal. Close and reopen the app. The terminal should restore and resume the previous Claude session. Close and reopen the app a SECOND time. The terminal should STILL resume that same session (not start fresh). The key behavior: session ID survives multiple restart cycles.
result: issue
reported: "the resume happens, but a older version is resumed. So after /clear the new session gets not saved accordingly. The TabName is restored correctly"
severity: major

### 2. CWD Matches on Restore
expected: Open a project, start a terminal. Close and reopen the app. The restored terminal should use the correct working directory (project path), not fall back to a default path. You can verify by running `pwd` or checking the terminal title/path indicator.
result: pass

### 3. Non-Resume Terminals Unaffected
expected: Open a fresh terminal (not resuming any session). It should work normally â€” no errors, no unexpected claudeSessionId attached. Starting a new chat session should behave as before.
result: pass

## Summary

total: 3
passed: 2
issues: 1
pending: 0
skipped: 0

## Gaps

- truth: "Session ID survives multiple restart cycles - after /clear new session ID is persisted"
  status: failed
  reason: "User reported: the resume happens, but a older version is resumed. So after /clear the new session gets not saved accordingly. The TabName is restored correctly"
  severity: major
  test: 1
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""
