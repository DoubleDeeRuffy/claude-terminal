---
phase: 14-add-resume-session-button-near-new-terminal-button-with-lightbulb-icon
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - index.html
  - renderer.js
  - styles/terminal.css
  - src/renderer/i18n/locales/en.json
  - src/renderer/i18n/locales/fr.json
autonomous: true
requirements:
  - SESS-RESUME-01
must_haves:
  truths:
    - "A lightbulb button is visible in the terminals-filter bar, to the left of the + (new terminal) button"
    - "Clicking the lightbulb button opens the sessions modal for the current project"
    - "The button tooltip displays the translated string for the current language"
    - "The button follows the same hover/active style as the + button"
  artifacts:
    - path: "index.html"
      provides: "Resume session button element with lightbulb SVG"
      contains: "btn-resume-session"
    - path: "styles/terminal.css"
      provides: "CSS rules for .filter-resume-session-btn"
      contains: "filter-resume-session-btn"
    - path: "renderer.js"
      provides: "Click handler wiring for btn-resume-session"
      contains: "btn-resume-session"
    - path: "src/renderer/i18n/locales/en.json"
      provides: "English tooltip string"
      contains: "resumeSession"
    - path: "src/renderer/i18n/locales/fr.json"
      provides: "French tooltip string"
      contains: "resumeSession"
  key_links:
    - from: "renderer.js"
      to: "showSessionsModal()"
      via: "onclick handler on btn-resume-session"
      pattern: "btnResumeSession.*showSessionsModal"
    - from: "index.html"
      to: "styles/terminal.css"
      via: "CSS class filter-resume-session-btn"
      pattern: "filter-resume-session-btn"
---

<objective>
Add a resume-session lightbulb button in the terminals-filter bar, before the existing new terminal (+) button. Clicking it opens the existing sessions modal for the current project.

Purpose: Give users a one-click way to resume a previous Claude session without navigating through menus or keyboard shortcuts.
Output: A visible, styled, i18n-ready button that wires to the existing `showSessionsModal()` function.
</objective>

<execution_context>
@C:/Users/uhgde/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/uhgde/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-add-resume-session-button-near-new-terminal-button-with-lightbulb-icon/14-CONTEXT.md
@.planning/phases/14-add-resume-session-button-near-new-terminal-button-with-lightbulb-icon/14-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add resume session button HTML, CSS, and i18n strings</name>
  <files>index.html, styles/terminal.css, src/renderer/i18n/locales/en.json, src/renderer/i18n/locales/fr.json</files>
  <action>
1. In `index.html`, find the `#terminals-filter` div. Insert a new button **before** `#btn-new-terminal` (after the `#filter-project-name` span). The button:
   - Class: `filter-resume-session-btn`
   - ID: `btn-resume-session`
   - Attribute: `data-i18n-title="terminals.resumeSession"` (no `title` attribute — i18n handles it)
   - Contains an outline/stroke lightbulb SVG icon inside. Use `viewBox="0 0 24 24"`, `fill="none"`, `stroke="currentColor"`, `stroke-width="2"`, `stroke-linecap="round"`, `stroke-linejoin="round"` (same attributes as the + icon SVG). Example SVG paths:
     ```
     <path d="M9 21h6"/>
     <path d="M12 2a7 7 0 0 1 4 12.9V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.1A7 7 0 0 1 12 2z"/>
     ```
   - Any clean outline lightbulb that renders well at 14x14px is acceptable (Claude's discretion).

2. In `styles/terminal.css`, add three CSS rule blocks **immediately before** the `.filter-new-terminal-btn` block so the pair is visually grouped:
   - `.filter-resume-session-btn` — identical to `.filter-new-terminal-btn` base rules: 22x22px, no border, transparent bg, `var(--text-secondary)` color, pointer cursor, `var(--radius-sm)` border-radius, flex center, `transition: all 0.15s`, `flex-shrink: 0`
   - `.filter-resume-session-btn:hover` — identical hover: `var(--accent-dim)` bg, `var(--accent)` color
   - `.filter-resume-session-btn svg` — identical SVG size: 14x14px

3. In `src/renderer/i18n/locales/en.json`, add inside the `"terminals"` object:
   ```json
   "resumeSession": "Resume Claude session"
   ```

4. In `src/renderer/i18n/locales/fr.json`, add inside the `"terminals"` object:
   ```json
   "resumeSession": "Reprendre une session Claude"
   ```
  </action>
  <verify>
    <automated>npm run build:renderer</automated>
    <manual>Check index.html contains btn-resume-session before btn-new-terminal, terminal.css has .filter-resume-session-btn rules, both locale files have resumeSession key</manual>
  </verify>
  <done>Button element exists in index.html before the + button, CSS rules mirror filter-new-terminal-btn, both locale files contain the resumeSession key</done>
</task>

<task type="auto">
  <name>Task 2: Wire click handler for resume session button</name>
  <files>renderer.js</files>
  <action>
In `renderer.js`, find the `btn-new-terminal` click handler block (the section that starts with `const btnNewTerminal = document.getElementById('btn-new-terminal')`). Add a new handler block **immediately before** it (same visual order as HTML: resume first, then new terminal):

```js
// Wire lightbulb resume session button
const btnResumeSession = document.getElementById('btn-resume-session');
if (btnResumeSession) {
  btnResumeSession.onclick = () => {
    const selectedFilter = projectsState.get().selectedProjectFilter;
    const projects = projectsState.get().projects;
    if (selectedFilter !== null && projects[selectedFilter]) {
      showSessionsModal(projects[selectedFilter]);
    }
  };
}
```

This follows the exact same pattern as `btn-new-terminal`: get element by ID, guard with `if`, read `selectedFilter` and `projects` from state, guard non-null, call the target function. `showSessionsModal` is already declared and available in scope (it handles empty state, session listing, errors internally).

Do NOT add any button disable logic — the button is always clickable when `terminals-filter` is visible, and `showSessionsModal` handles its own empty state.
  </action>
  <verify>
    <automated>npm run build:renderer && npm test</automated>
    <manual>Grep renderer.js for "btn-resume-session" — should find getElementById and showSessionsModal call</manual>
  </verify>
  <done>Click handler wires btn-resume-session to showSessionsModal with the current project, following the same guard pattern as btn-new-terminal</done>
</task>

</tasks>

<verification>
1. `npm run build:renderer` completes without errors
2. `npm test` passes (no regressions)
3. `grep -c "btn-resume-session" index.html` returns 1
4. `grep -c "filter-resume-session-btn" styles/terminal.css` returns at least 3 (base, hover, svg rules)
5. `grep -c "btn-resume-session" renderer.js` returns at least 2 (getElementById + onclick)
6. `grep "resumeSession" src/renderer/i18n/locales/en.json` returns the English string
7. `grep "resumeSession" src/renderer/i18n/locales/fr.json` returns the French string
</verification>

<success_criteria>
- A lightbulb button appears in the terminals-filter bar to the left of the + button
- Clicking it calls showSessionsModal with the current project
- Button tooltip is translated in both EN and FR
- Button hover/active styles match the + button
- Build and tests pass with no regressions
</success_criteria>

<output>
After completion, create `.planning/phases/14-add-resume-session-button-near-new-terminal-button-with-lightbulb-icon/14-01-SUMMARY.md`
</output>
